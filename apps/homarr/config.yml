version: "1.0"

# Homarr configuration
# Domain is automatically derived from the system hostname: <hostname>.local

groups:
  - id: security
    label: Security Settings
    description: Encryption and security configuration
    fields:
      - id: SECRET_ENCRYPTION_KEY
        label: Encryption Key
        type: string
        default: ""
        required: true
        description: |
          64-character hexadecimal encryption key for securing sensitive data.
          Generate one using: openssl rand -hex 32
          If left empty, a key will be generated automatically on first install.

  - id: sso
    label: Single Sign-On (OIDC)
    description: |
      Configure OpenID Connect authentication with Authelia.
      When enabled, users will authenticate through Authelia instead of
      Homarr's built-in authentication.

      Note: OIDC URLs are automatically configured based on system hostname.
    fields:
      - id: AUTH_PROVIDERS
        label: Authentication Provider
        type: enum
        default: ""
        options:
          - value: ""
            label: Built-in (default)
          - value: oidc
            label: OIDC (Authelia SSO)
        description: |
          Select the authentication method. Choose "OIDC" to enable
          Single Sign-On with Authelia.

      - id: AUTH_OIDC_CLIENT_ID
        label: OIDC Client ID
        type: string
        default: homarr
        description: |
          The client ID configured in Authelia for Homarr.
          Default: homarr

      - id: AUTH_OIDC_CLIENT_SECRET
        label: OIDC Client Secret
        type: password
        default: ""
        description: |
          The client secret for OIDC authentication.
          This is automatically generated by Authelia and stored in
          /var/lib/container-apps/authelia-container/data/secrets.env

      - id: AUTH_OIDC_CLIENT_NAME
        label: OIDC Provider Name
        type: string
        default: HaLOS
        description: |
          Display name for the OIDC provider on the login page.

      - id: AUTH_OIDC_SCOPE_OVERWRITE
        label: OIDC Scopes
        type: string
        default: openid profile email groups
        description: |
          Space-separated list of OIDC scopes to request.
